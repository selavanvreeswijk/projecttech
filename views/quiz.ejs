<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Quiz</title>
        <link rel="stylesheet" href="/style.css">

        <%- include('partials/header') %>

        <style>
            main{
                display: flex;
                flex-direction: column;
                text-align: center;
            }


            /* Skip link */
            section a{
                display: none;

                position: absolute; 
                right: 2.8em;
                top: 8.6em;

                text-transform: uppercase;
                font-size: 0.75em;

                border-bottom: 0.05em solid var(--color-lines);
                padding: 0.1em 0.2em;
            }


            /* Begin */
            .begin{
                display: flex;
                flex-direction: column; 
                align-items: center;
                justify-content: center;
                text-align: center; 
            }


            .begin svg{
                height: 30vh;

                margin-top: 5em;
                margin-bottom: 2em;
                animation: scale 10s infinite ease-in-out;
            }


            @keyframes scale{
                0% {
                    transform: scale(1); 
                }
                50% {
                    transform: scale(1.05);
                }
                100% {
                    transform: scale(1);
                }
            }   


            .begin button{
                margin-top: 2em;
            }


            /* Progress bar */
            progress{
                display: none;

                margin-top: 2em;
                width: 80%;
            }
            

            progress[value] {
                background-color: var(--color-background-inputfield);
                border-radius: 1em;
                height: 0.9em; 
            }


            progress[value]::-webkit-progress-bar {
                background-color: var(--color-background-inputfield);
                border-radius: 1em;
                border: .07em solid var(--color-lines);
            }


            progress[value]::-webkit-progress-value {
                background: var(--color-footer-background); 
                border-radius: 1em;

                transition: width 0.5s ease-in-out;
            }


            /* Questions */
            /* Big container */
            h1{
                text-align: center;
            }

            
            .questions{
                display: none;

                flex-direction: column;
                align-items: center;
                text-align: center;
            }


            /* Individual sections */
            .question{
                display: none;

                width: 75%;
                max-width: 600px;
                margin-top: 2em;
                margin-bottom: 2em;

                padding: 0.5em;

                border: 0.08em solid var(--color-lines);
                border-radius: 0.7em;
            }


            .question.active{
                display: block;
            }


            h2{
                margin: 1em;

                border-top: 0.05em solid var(--color-lines);
                border-bottom: 0.05em solid var(--color-lines);
                width: 13em;
                padding: 0.5em 0;
            }
     

            /* Input fields */
            .question div{
                display: flex;
                flex-direction: row;
                justify-content: center;

                margin-top: 2em;
                margin-bottom: 1em;
            }


            label{
                display: inline-block;
                text-align: center;

                border: 0.09em solid var(--color-lines);
                border-radius: 0.2em;

                margin-left: 0.5em;
                padding: 1.5em;
                transition: all 0.3s ease-in-out;
            }
            

            input[type="radio"]{
                display: none;
            }


            input[type="radio"]:checked + label,
            input[type="checkbox"]:checked + label {
                background: var(--color-footer-background);
                border-color: var(--color-footer-background);
                color: white; 
            }

            
            #question-2 div,
            #question-3 div,
            #question-4 div,
            #question-5 div{
                display: flex;
                flex-wrap: wrap;
                gap: 0.5em;
            }


            /* Question 2 */
            #question-2 div label{
                font-size: 0.9em;
                display: block;
                flex: 1 1 20%;
                padding: 1.3em;
            }


            /* Question 3 */
            #question-3 div label {
                font-size: 0.9em;
                display: block;
                flex: 0 1 10%;
                padding: 1.3em;
                text-align: center;
            }


            /* Question 4*/
            #question-4 div label{
                font-size: 0.9em;
                display: block;
                flex: 1 1 35%;
                padding: 1.3em;
            }


            /* Question 5 */
            #question-5 div label {
                font-size: 0.9em;
                display: block;
                flex: 0 1 10%;
                padding: 1.3em;
                text-align: center;
            }


            #question-5 div{
                margin-bottom: 0.7em;
            }


            #question-5 p{
                font-size: 0.75em;
                margin-bottom: 0.5em;
            }

            
            input[type="checkbox"] {
                display: none;
            }


            input[type="checkbox"]:checked + label {
                background: var(--color-footer-background);
                border-color: var(--color-footer-background);
                color: white; 
            }


            /* Navigation buttons */
            .nav-button{
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .nav-button button{
                display: none;
                margin: 0 auto;
            }


            /* Pop-up */
            .popup-background{
                display: none;
                justify-content: center;
                align-items: center;

                position: fixed;
                z-index: 1000;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;

                background: rgba(0, 0, 0, 0.5);
            }


            .popup{
                display: flex;
                flex-direction: column;
                align-items: center;

                background: var(--color-background);
              
                border: 0.08em solid var(--color-lines);
                border-radius: 0.7em;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

                padding: 1em;
                margin: 1.9em;
                text-align: center;
            }


            .popup h2{
                margin-bottom: 1.5em;
                width: 8em;
            }


            .popup p{
                margin-bottom: 1.5em;
            }


            .popup-buttons{
                display: flex;
                flex-direction: row;
                justify-content: center;

                width: 70%;
                gap: 1.3em;
                margin-bottom: 1.5em;
            }
        </style>
    </head>

    <body>
        <main>
            <section>
                <h1>Quiz</h1>

                <a href="/results">Skip</a>
            </section>

            <div class="begin">                
                <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                width="298.000000pt" height="345.000000pt" viewBox="0 0 298.000000 345.000000"
                preserveAspectRatio="xMidYMid meet">

                    <defs>
                        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" stop-color="#718d69">
                                <animate attributeName="stop-color" values="#718d69; #2a4d14; #4a5d23; #718d69" keyTimes="0; 0.5; 0.8; 1" dur="7s" repeatCount="indefinite" />
                            </stop>
                            <stop offset="100%" stop-color="#4a5d23">
                                <animate attributeName="stop-color" values="#4a5d23; #516131; #718d69; #4a5d23" dur="7s" repeatCount="indefinite" />
                            </stop>
                        </linearGradient>
                    </defs>                

                    <g transform="translate(0.000000,345.000000) scale(0.100000,-0.100000)"
                    fill="#000000" stroke="none">
                        <path fill="url(#grad)" d="M1525 3348 c-2 -7 -9 -31 -15 -54 -5 -23 -25 -61 -43 -85 -52 -69
                        -83 -129 -106 -203 -26 -85 -26 -133 -1 -216 11 -36 20 -78 20 -93 0 -23 -8
                        -14 -41 50 -66 124 -121 203 -187 269 -34 34 -69 78 -77 98 -23 53 -35 44 -35
                        -26 1 -165 39 -280 116 -350 87 -79 145 -143 165 -180 22 -42 39 -49 39 -16 0
                        23 -49 105 -80 133 -11 10 -17 21 -14 26 10 16 -46 107 -90 146 -44 39 -78 94
                        -90 146 -9 40 8 28 80 -56 41 -48 65 -88 84 -140 28 -74 86 -187 104 -199 6
                        -4 14 -4 18 -2 4 3 8 -19 8 -48 0 -49 31 -192 44 -205 3 -3 13 0 21 7 14 12
                        14 8 -1 -29 -13 -33 -16 -61 -11 -121 l5 -79 -43 57 c-50 66 -134 147 -219
                        212 -88 67 -204 136 -213 126 -19 -19 27 -72 196 -230 201 -188 241 -238 272
                        -338 20 -66 39 -242 39 -368 l0 -75 -20 25 c-11 14 -36 72 -57 130 -47 134
                        -77 194 -123 250 -41 50 -102 153 -162 275 -39 79 -55 96 -113 125 -16 8 -39
                        32 -50 52 -14 27 -35 45 -70 62 -28 13 -63 40 -78 60 -34 44 -79 57 -171 50
                        -61 -5 -81 -2 -141 21 -38 14 -95 31 -125 37 -30 5 -76 23 -103 39 -26 16 -52
                        29 -58 29 -15 0 -3 -108 22 -189 20 -68 48 -119 84 -161 12 -14 25 -37 29 -51
                        10 -43 57 -86 127 -118 37 -16 68 -33 70 -38 2 -5 26 -24 53 -43 27 -18 66
                        -50 86 -70 46 -46 94 -54 282 -51 l127 2 39 -36 c22 -19 61 -67 88 -107 27
                        -40 77 -109 113 -152 35 -44 79 -104 98 -134 37 -58 69 -139 59 -149 -3 -4 -6
                        1 -6 9 0 20 -55 124 -93 173 -106 140 -300 264 -438 280 -30 4 -82 15 -116 25
                        -61 17 -87 13 -77 -14 5 -13 -184 -66 -238 -66 -55 0 -121 -33 -172 -87 -86
                        -89 -96 -101 -96 -113 0 -7 -9 -27 -19 -44 -22 -35 -71 -191 -71 -224 0 -30
                        12 -28 65 13 74 56 198 86 273 65 163 -43 262 -43 342 2 35 19 36 19 137 -1
                        56 -12 127 -21 160 -21 32 0 78 -6 103 -14 25 -8 67 -18 94 -23 63 -10 79 -31
                        115 -153 l28 -95 -233 -6 c-282 -7 -274 -3 -274 -117 0 -73 1 -76 36 -108 19
                        -19 39 -34 44 -34 8 0 20 -36 59 -175 25 -91 81 -303 81 -308 0 -3 -33 -8 -72
                        -11 -127 -13 -288 -43 -313 -60 -33 -22 -32 -51 3 -65 112 -45 575 -70 978
                        -52 399 17 579 52 579 111 0 22 -7 27 -65 42 -70 19 -228 38 -316 38 l-53 0 6
                        33 c3 17 22 93 40 167 77 301 71 283 109 308 19 12 39 34 44 48 16 40 12 137
                        -6 162 -15 22 -19 22 -250 22 -129 0 -234 2 -234 3 0 11 40 119 55 147 11 22
                        20 29 24 21 5 -8 29 8 71 50 81 79 127 99 268 115 103 12 123 18 216 64 57 27
                        115 50 129 50 16 0 27 6 27 14 0 16 -100 62 -157 71 -24 4 -43 9 -43 12 0 7
                        68 69 144 130 39 32 103 89 141 128 39 38 109 105 156 147 139 125 240 261
                        182 244 -10 -3 -61 -10 -113 -16 -277 -32 -470 -88 -680 -198 -113 -60 -155
                        -89 -226 -160 -48 -47 -64 -73 -86 -133 -54 -148 -125 -414 -134 -506 -11
                        -105 28 -69 42 39 4 29 16 64 26 78 11 14 38 54 61 90 82 131 306 330 527 469
                        47 30 96 62 110 71 61 41 289 160 338 176 29 9 52 22 52 30 0 8 7 14 15 14 8
                        0 15 -4 15 -8 0 -20 -364 -369 -456 -437 -27 -21 -76 -63 -109 -95 -57 -55
                        -63 -59 -123 -65 -51 -6 -66 -4 -75 8 -10 13 -23 14 -65 9 -55 -7 -69 -23 -30
                        -34 13 -3 16 -7 8 -7 -23 -2 -82 -33 -123 -65 -61 -47 -157 -197 -157 -245 0
                        -11 -9 -41 -21 -68 -25 -60 -59 -158 -59 -174 0 -9 61 -10 246 -4 202 6 248 4
                        255 -7 5 -7 9 -39 9 -70 0 -55 -1 -58 -44 -93 -38 -31 -47 -45 -60 -98 -83
                        -343 -127 -501 -141 -517 -28 -31 -104 -40 -333 -40 -219 0 -224 1 -271 36 -2
                        2 -9 29 -16 61 -17 75 -54 218 -95 363 -18 63 -35 125 -37 138 l-5 22 214 0
                        c118 0 317 3 441 7 192 5 227 8 227 21 0 13 -52 14 -442 9 -244 -4 -452 -9
                        -463 -12 -11 -3 -30 3 -42 12 -18 15 -23 29 -24 81 -1 34 1 66 5 70 4 4 130 9
                        278 12 205 4 272 8 276 18 2 7 -5 12 -16 12 -27 0 -35 14 -56 90 -10 36 -22
                        79 -27 96 -5 17 -25 49 -44 72 -31 36 -42 41 -93 48 -31 4 -74 13 -96 20 -21
                        8 -64 14 -95 14 -93 0 -327 55 -486 115 -39 14 -101 36 -138 47 l-69 22 -79
                        -26 c-43 -15 -79 -23 -79 -18 0 4 12 18 26 31 14 13 29 34 34 46 7 16 23 24
                        64 33 30 6 57 18 60 26 9 25 138 72 307 112 64 16 208 -2 277 -33 125 -57 263
                        -174 328 -276 46 -73 116 -244 128 -313 6 -38 17 -71 24 -74 16 -5 15 23 -4
                        188 -9 74 -16 157 -15 183 3 98 -19 410 -34 474 -20 86 -69 165 -152 245 -209
                        201 -218 210 -173 177 62 -46 192 -173 243 -236 23 -29 47 -53 53 -53 6 0 16
                        -26 23 -57 6 -31 18 -64 27 -74 17 -19 24 -101 47 -588 8 -179 16 -256 24
                        -258 17 -6 19 55 9 257 -8 159 -7 184 13 280 15 74 34 132 66 197 76 154 100
                        173 294 228 207 59 313 110 403 195 48 45 51 51 36 63 -16 12 -13 17 27 50
                        118 99 214 273 271 491 8 33 35 98 59 145 40 78 68 171 51 171 -4 0 -30 -16
                        -59 -36 -28 -20 -86 -52 -127 -71 -80 -37 -245 -103 -257 -103 -17 0 -223 -97
                        -272 -128 -70 -44 -215 -189 -270 -269 -84 -124 -114 -219 -186 -594 -14 -74
                        -34 -162 -44 -194 l-19 -59 -7 149 c-4 94 -3 167 4 195 5 25 6 49 2 53 -11 11
                        -41 -32 -41 -59 0 -46 -15 -31 -27 27 -12 61 -12 64 19 127 20 42 51 85 89
                        122 65 62 79 93 28 63 -53 -31 -109 -84 -129 -122 -25 -48 -25 -30 1 43 56
                        161 210 392 295 443 17 10 17 12 3 18 -25 9 -118 -47 -179 -108 -42 -42 -122
                        -153 -176 -243 -10 -17 -12 -14 -19 24 -8 47 6 76 91 200 24 35 44 67 44 71 0
                        5 7 14 15 21 8 7 22 36 29 64 19 67 29 246 15 246 -6 0 -13 -9 -16 -20 -3 -10
                        -14 -22 -24 -25 -10 -4 -19 -11 -19 -17 0 -6 -2 -9 -5 -6 -3 3 2 25 11 49 20
                        57 20 129 0 205 -9 34 -16 76 -16 93 0 31 -17 43 -25 19z m25 -215 c0 -50 -30
                        -124 -70 -170 -40 -46 -56 -79 -65 -138 -5 -39 -9 -46 -17 -32 -5 10 -8 30 -6
                        45 1 15 -1 46 -6 70 -6 32 -3 55 10 93 l18 50 12 -33 c13 -39 37 -44 42 -9 2
                        14 9 34 16 45 7 12 21 49 31 84 20 69 35 67 35 -5z m1190 -57 c0 -3 -17 -40
                        -39 -83 -21 -43 -48 -110 -59 -149 -18 -58 -31 -80 -74 -125 -110 -113 -207
                        -174 -388 -244 -133 -50 -232 -94 -254 -110 -39 -29 -4 -28 72 2 42 18 115 46
                        162 63 47 18 103 41 126 51 22 10 43 19 46 19 21 0 143 85 201 139 70 66 73
                        63 25 -29 -43 -84 -87 -138 -190 -233 -96 -90 -101 -97 -79 -105 l23 -8 -32
                        -27 c-49 -42 -163 -92 -300 -132 -191 -56 -226 -73 -277 -130 l-45 -50 6 35
                        c4 19 18 92 31 162 45 241 95 362 205 492 30 36 59 65 63 65 5 1 5 -25 1 -56
                        -5 -43 -15 -68 -38 -97 -29 -37 -31 -38 -36 -17 -9 40 -25 27 -28 -23 -2 -35
                        -13 -62 -38 -100 -44 -67 -72 -140 -80 -212 -10 -85 13 -66 42 33 23 78 58
                        147 130 248 33 47 74 89 193 198 28 26 79 79 112 117 48 56 74 76 135 106 41
                        20 78 34 80 31 3 -3 0 -17 -8 -30 -11 -23 -48 -51 -165 -130 -34 -23 -48 -43
                        -35 -51 7 -4 48 20 169 103 33 22 58 49 71 77 17 34 35 50 86 79 41 23 66 43
                        66 54 0 10 20 27 53 43 52 27 67 32 67 24z m-278 -127 c-24 -11 -49 -18 -55
                        -16 -7 2 8 11 33 20 62 21 74 19 22 -4z m-952 -29 c-6 -11 -9 -26 -7 -33 2 -7
                        0 -21 -6 -32 -10 -19 -10 -18 -19 4 -6 18 -3 32 14 57 25 36 37 39 18 4z m65
                        -88 c-4 -21 -14 -36 -28 -41 -12 -5 -46 -35 -76 -67 l-54 -58 5 39 c5 32 19
                        53 71 105 47 48 66 76 73 105 l8 40 4 -45 c2 -24 1 -59 -3 -78z m724 53 c-27
                        -14 -75 -56 -115 -102 -104 -118 -124 -127 -85 -37 12 26 21 52 21 59 0 7 24
                        23 53 35 28 13 75 34 102 46 67 30 82 29 24 -1z m-1139 -89 c0 -6 -7 -2 -15 8
                        -8 11 -15 25 -15 30 0 6 7 2 15 -8 8 -11 15 -25 15 -30z m65 -64 c-8 -8 -25
                        10 -25 26 0 13 2 13 14 -4 8 -10 13 -21 11 -22z m829 1 c-7 -21 -13 -50 -14
                        -64 0 -14 -9 -34 -21 -45 -20 -18 -20 -18 -18 36 2 42 9 61 28 83 34 37 41 34
                        25 -10z m-548 -30 c-2 -5 -25 -39 -50 -76 -37 -55 -46 -64 -46 -44 0 16 17 44
                        47 76 42 46 62 63 49 44z m-128 -88 c-3 -3 -9 2 -12 12 -6 14 -5 15 5 6 7 -7
                        10 -15 7 -18z m-1104 -108 c9 -46 64 -131 106 -162 43 -32 98 -47 160 -44 39
                        2 53 -2 81 -25 l34 -27 -45 6 c-25 4 -70 13 -101 21 -68 17 -92 18 -87 3 6
                        -18 108 -49 203 -60 87 -11 174 -43 191 -70 9 -15 -98 -5 -175 17 -55 16 -68
                        14 -56 -6 17 -27 82 -43 187 -47 102 -3 110 -5 167 -38 34 -20 61 -38 61 -40
                        0 -6 -84 7 -168 26 -98 22 -125 24 -120 7 9 -27 278 -79 308 -60 13 8 31 0 81
                        -34 35 -24 71 -41 79 -39 16 5 83 -73 113 -131 15 -29 57 -134 54 -134 -1 0
                        -27 34 -57 76 -30 42 -72 99 -92 127 -21 28 -57 64 -80 79 -41 28 -45 29 -162
                        27 -182 -3 -229 5 -269 50 -19 21 -51 48 -73 61 -21 13 -52 36 -69 51 -16 15
                        -48 32 -70 38 -45 12 -88 52 -100 91 -4 14 -25 47 -46 73 -37 48 -69 118 -84
                        187 -7 30 -6 33 8 22 8 -7 18 -27 21 -45z m96 43 c25 -6 68 -20 95 -32 38 -17
                        77 -24 165 -28 l115 -5 32 -60 c50 -91 63 -122 63 -147 0 -21 0 -21 -28 5 -26
                        25 -52 35 -52 21 0 -18 55 -74 74 -74 12 0 26 -8 33 -19 15 -23 99 -81 119
                        -81 27 0 14 19 -40 55 -51 34 -55 39 -72 103 -9 37 -22 73 -27 80 -14 18 -3
                        24 26 13 14 -5 28 -20 32 -33 11 -34 54 -76 91 -88 25 -9 38 -23 60 -68 16
                        -31 47 -92 71 -134 48 -87 52 -99 22 -72 -11 10 -40 30 -64 44 -24 14 -69 40
                        -101 59 -33 18 -75 44 -94 56 -19 12 -53 33 -75 47 -110 68 -158 102 -205 141
                        -33 27 -103 67 -171 97 -59 26 -164 90 -148 90 3 0 47 -14 99 -31 114 -36 198
                        -76 213 -100 6 -9 16 -15 22 -13 7 3 18 -2 25 -11 31 -37 40 -8 10 35 -25 35
                        -103 72 -250 120 -113 37 -129 49 -40 30z m1135 -119 c-8 -17 -19 -33 -25 -36
                        -5 -3 -1 10 11 29 25 43 36 48 14 7z m-1065 -41 c86 -37 118 -60 82 -60 -36 0
                        -123 38 -154 67 -27 26 -40 55 -15 35 6 -5 46 -24 87 -42z m2235 -190 c-3 -5
                        -12 -10 -18 -10 -16 0 -168 -79 -252 -130 -36 -22 -68 -40 -71 -40 -2 0 -17
                        -8 -32 -19 -15 -10 -63 -42 -107 -71 -79 -52 -219 -162 -264 -207 -12 -14 -24
                        -23 -26 -21 -1 2 1 28 6 58 4 30 8 75 8 100 1 41 0 43 -16 28 -19 -19 -36
                        -175 -21 -194 6 -8 0 -19 -15 -30 -31 -25 -135 -141 -159 -179 l-20 -30 7 30
                        c3 17 17 46 30 65 30 45 47 104 33 118 -7 7 -1 34 18 82 24 61 39 82 101 140
                        102 95 268 182 463 242 52 16 101 31 108 33 27 10 9 -4 -40 -30 -74 -38 -112
                        -75 -77 -75 18 0 213 100 225 115 6 8 33 18 60 23 67 13 66 13 59 2z m-2231
                        -495 c-10 -8 -23 -14 -29 -14 -5 0 -1 6 9 14 11 8 24 15 30 15 5 0 1 -7 -10
                        -15z m1802 -135 c85 -16 93 -19 71 -32 -13 -7 -22 -7 -30 1 -14 14 -97 14 -97
                        1 0 -7 -13 -8 -36 -4 -29 5 -36 4 -32 -7 4 -12 16 -18 78 -36 11 -3 6 -9 -14
                        -20 -34 -18 -152 -31 -143 -16 7 10 -22 39 -59 59 -24 14 -39 8 -109 -51 -27
                        -22 -69 -53 -93 -69 -42 -26 -43 -27 -31 -4 29 56 85 112 136 135 94 43 250
                        62 359 43z m-1716 -54 c41 -13 90 -30 108 -38 l33 -15 -80 -23 c-65 -18 -89
                        -21 -124 -13 -49 10 -144 -10 -215 -46 -24 -12 -46 -20 -49 -17 -3 2 7 32 22
                        65 27 59 29 61 84 76 31 9 67 20 81 25 39 13 60 11 140 -14z m1450 -26 c0 -6
                        11 -15 25 -22 30 -14 23 -28 -14 -28 -37 0 -59 24 -41 45 14 17 30 20 30 5z
                        m-1234 -46 c69 -23 72 -29 20 -49 -34 -13 -59 -16 -100 -11 -64 8 -79 21 -36
                        31 17 4 36 15 43 26 14 23 12 23 73 3z m1179 -4 c3 -5 4 -10 1 -10 -2 0 -12
                        -3 -20 -6 -12 -5 -15 -2 -10 10 7 18 20 21 29 6z m-136 -93 c-2 -1 -15 -11
                        -29 -22 l-25 -20 19 23 c11 12 24 22 29 22 6 0 8 -1 6 -3z m-593 -1055 c6 -4
                        14 -17 18 -29 4 -12 21 -34 37 -48 l31 -25 386 -1 c213 0 375 -4 361 -9 -55
                        -16 -446 -33 -638 -27 -185 6 -470 29 -536 43 -26 6 -28 8 -10 14 11 4 75 13
                        143 21 128 13 180 32 132 46 -24 7 -23 8 10 14 51 9 54 9 66 1z m924 -12 c63
                        -6 130 -15 149 -21 30 -10 32 -13 16 -21 -18 -10 -231 -27 -357 -28 l-67 0 26
                        40 c31 46 36 47 233 30z m-1137 -27 c-7 -2 -19 -2 -25 0 -7 3 -2 5 12 5 14 0
                        19 -2 13 -5z m-50 -10 c-7 -2 -19 -2 -25 0 -7 3 -2 5 12 5 14 0 19 -2 13 -5z"/>
                        <path fill="url(#grad)" d="M2466 2763 c-44 -30 -154 -98 -245 -150 -167 -95 -200 -117 -189
                        -129 10 -10 251 117 393 208 61 38 145 107 145 118 0 20 -27 8 -104 -47z"/>
                        <path fill="url(#grad)" d="M2260 2400 c-58 -21 -143 -50 -190 -65 -166 -52 -230 -77 -230 -91 0
                        -8 2 -14 4 -14 4 0 229 71 356 112 107 35 190 73 190 88 0 15 -15 11 -130 -30z"/>
                        <path fill="url(#grad)" d="M2105 2261 c-136 -49 -165 -61 -227 -91 -37 -18 -73 -38 -79 -46 -20
                        -24 25 -17 94 16 35 17 67 30 71 30 3 0 25 9 49 19 23 11 69 30 101 43 33 13
                        61 29 64 36 5 16 -13 14 -73 -7z"/>
                        <path fill="url(#grad)" d="M680 2396 c0 -16 44 -76 56 -76 20 0 17 16 -8 50 -18 25 -48 41 -48
                        26z"/>
                        <path fill="url(#grad)" d="M2250 2080 c-48 -25 -79 -56 -86 -86 -15 -58 43 -41 87 26 18 28 36
                        50 41 50 4 0 8 7 8 15 0 19 -7 18 -50 -5z"/>
                        <path fill="url(#grad)" d="M2079 2008 c-21 -22 -39 -58 -53 -105 -17 -56 66 2 100 69 13 26 24
                        50 24 53 0 15 -52 2 -71 -17z"/>
                        <path fill="url(#grad)" d="M1966 1938 c-7 -13 -17 -51 -20 -85 -6 -53 -5 -62 8 -57 34 13 60 82
                        50 133 -8 37 -18 39 -38 9z"/>
                        <path fill="url(#grad)" d="M1822 1813 c-8 -15 -32 -133 -32 -156 0 -4 6 -7 14 -7 19 0 35 51 37
                        117 3 58 -4 75 -19 46z"/>
                        <path fill="url(#grad)" d="M2060 1512 c0 -14 35 -42 53 -42 24 0 21 16 -5 34 -24 17 -48 21 -48
                        8z"/>
                        <path fill="url(#grad)" d="M332 1481 c-24 -9 -43 -21 -42 -27 1 -5 7 -7 14 -5 6 2 49 3 95 3 51
                        0 98 5 118 13 42 18 45 40 3 31 -16 -3 -43 -9 -60 -12 -19 -4 -30 -2 -30 5 0
                        16 -49 13 -98 -8z"/>
                        <path fill="url(#grad)" d="M940 2766 c0 -8 8 -21 18 -28 9 -7 29 -29 44 -49 46 -62 227 -247
                        294 -300 35 -28 72 -64 81 -80 21 -35 48 -40 38 -6 -4 12 -14 33 -23 47 -9 14
                        -21 37 -27 52 -26 69 -225 267 -333 331 -88 52 -92 53 -92 33z m234 -201 c9
                        -14 15 -25 13 -25 -2 0 -14 11 -27 25 -13 14 -19 25 -13 25 6 0 18 -11 27 -25z"/>
                        <path fill="url(#grad)" d="M2645 2120 c-4 -6 -16 -10 -28 -8 -14 2 -22 -2 -22 -12 0 -10 12 -16
                        38 -18 20 -2 37 1 37 7 0 5 3 16 6 25 7 18 -21 23 -31 6z"/>
                        <path fill="url(#grad)" d="M2470 2027 c0 -18 50 -32 80 -22 25 8 26 25 1 25 -10 0 -33 3 -50 6
                        -24 5 -31 3 -31 -9z"/>
                        <path fill="url(#grad)" d="M2410 1971 c0 -12 41 -24 65 -19 33 6 19 23 -22 26 -25 2 -43 -1 -43
                        -7z"/>
                        <path fill="url(#grad)" d="M2247 1889 c26 -26 143 -33 143 -9 0 14 -30 20 -93 20 -44 0 -58 -3
                        -50 -11z"/>
                        <path fill="url(#grad)" d="M2195 1840 c-10 -15 22 -23 83 -21 21 1 32 6 32 16 0 11 -13 15 -54
                        15 -30 0 -58 -5 -61 -10z"/>
                        <path fill="url(#grad)" d="M2088 1753 c-39 -4 -50 -19 -22 -30 22 -8 97 10 102 25 4 12 -4 13
                        -80 5z"/>
                        <path fill="url(#grad)" d="M1020 1720 c0 -5 22 -24 49 -42 26 -18 83 -66 125 -106 48 -45 86
                        -72 99 -72 17 1 2 20 -72 90 -111 106 -201 165 -201 130z"/>
                        <path fill="url(#grad)" d="M900 1702 c0 -8 76 -76 162 -146 26 -20 99 -64 162 -96 63 -32 135
                        -72 160 -89 l46 -32 -11 28 c-14 39 -38 56 -156 112 -115 55 -168 90 -264 173
                        -61 52 -99 72 -99 50z"/>
                        <path fill="url(#grad)" d="M770 1691 c0 -20 177 -152 236 -177 75 -31 86 -9 16 29 -47 25 -111
                        70 -189 130 -36 27 -63 35 -63 18z"/>
                        <path fill="url(#grad)" d="M1985 1690 c-7 -11 35 -30 63 -30 25 0 46 16 38 29 -9 14 -93 15
                        -101 1z"/>
                        <path fill="url(#grad)" d="M630 1678 c1 -23 172 -135 221 -145 40 -8 37 12 -3 33 -18 9 -72 41
                        -119 70 -92 58 -99 61 -99 42z"/>
                        <path fill="url(#grad)" d="M524 1639 c-8 -14 -9 -14 91 -54 51 -21 92 -32 97 -27 12 12 -5 24
                        -82 54 -92 37 -99 38 -106 27z"/>
                        <path fill="url(#grad)" d="M1051 1466 c-54 -11 -83 -36 -41 -36 33 0 110 21 110 31 0 15 -15 16
                        -69 5z"/>
                    </g>
                </svg>

                <!--Source https://www.vecteezy.com/png/24523254-potted-plant-black-outline-illustration-on-transparent-background-->
                
                <p>Got 30 seconds? Get matched to your perfect plant!</p>
             
                <button class="btn-styling">Begin</button>
            </div>

            <div class="popup-background">
                <div class="popup">
                    <h2>Skip quiz?</h2>

                    <p>Are you sure you want to skip this quiz? Answers will not be saved...</p>

                    <div class="popup-buttons">
                        <button class="btn-styling">Back</button>
                        <button class="btn-styling">Skip</button>
                    </div>
                </div>
            </div>

            <div class="questions">
                <progress max="100" value="0"></progress> <!--Source https://developer.mozilla.org/en-US/docs/Web/HTML/Element/progress + https://verpex.com/blog/website-tips/how-to-style-a-progress-bar-using-css + https://www.w3schools.com/howto/howto_js_progressbar.asp -->

                <section id="question-1" class="question">
                    <h2>Are you currently a plant parent?</h2>

                    <div>
                        <input type="radio" id="yes" name="plants" value="yes" onclick="saveAnswer(1, this.value)">
                        <label for="yes">Yes</label>
                    
                        <input type="radio" id="no" name="plants" value="no" onclick="saveAnswer(1, this.value)">
                        <label for="no">No</label>
                    </div>
                </section>

                <section id="question-2" class="question">
                    <h2>How green are your fingers?</h2>

                    <div>
                        <input type="radio" id="beginner" name="level" value="beginner" onclick="saveAnswer(2, this.value)">
                        <label for="beginner">Beginner</label>
                        
                        <input type="radio" id="intermediate" name="level" value="intermediate" onclick="saveAnswer(2, this.value)">
                        <label for="intermediate">Intermediate</label>
                        
                        <input type="radio" id="expert" name="level" value="expert" onclick="saveAnswer(2, this.value)">
                        <label for="expert">Expert</label>
                    </div>                    
                </section>
            
                <section id="question-3" class="question">
                    <h2>How much love would you like to invest per week?</h2>
                 
                    <div>
                        <input type="radio" id="half-hour" name="time" value="0.5" onclick="saveAnswer(3, this.value)">
                        <label for="half-hour">0.5h</label>
                    
                        <input type="radio" id="one-hour" name="time" value="1" onclick="saveAnswer(3, this.value)">
                        <label for="one-hour">1h</label>
                    
                        <input type="radio" id="two-hours" name="time" value="2" onclick="saveAnswer(3, this.value)">
                        <label for="two-hours">2h</label>
                    </div>
                </section>
            
                <section id="question-4" class="question">
                    <h2>How much light do you have in your room?</h2>

                    <div>
                        <input type="radio" id="low" name="sunlight" value="low" onclick="saveAnswer(4, this.value)">
                        <label for="low">No sun</label>
                    
                        <input type="radio" id="medium" name="sunlight" value="medium" onclick="saveAnswer(4, this.value)">
                        <label for="medium">A couple of hours sun</label>
                    
                        <input type="radio" id="high" name="sunlight" value="high" onclick="saveAnswer(4, this.value)">
                        <label for="high">A lot of sun</label>
                    </div>
                </section>
    
                <section id="question-5" class="question">                
                    <h2>How big do you want your plant to be?</h2>
                
                    <div>
                        <input type="checkbox" id="small" name="plants" value="small" onclick="saveAnswer(5, this.value)">
                        <label for="small">S</label>
                    
                        <input type="checkbox" id="medium-size" name="plants" value="medium-size" onclick="saveAnswer(5, this.value)">
                        <label for="medium-size">M</label> 
                    
                        <input type="checkbox" id="large" name="plants" value="large" onclick="saveAnswer(5, this.value)">
                        <label for="large">L</label>
                    </div> 
                    
                    <p>(Multiple options possible)</p>
                </section>
                
                <div class="nav-button">
                    <button class="btn-styling" onclick="nextQuestion()">Next</button>
                </div>
            </div>
        </main>
       
        <footer>
            <%- include('partials/footer') %>
        </footer>

        <script>
            const begin = document.querySelector('.begin');
            const beginButton = document.querySelector('.begin button');
            const navButton = document.querySelector('.nav-button');
            const questionSelection = document.querySelector('.questions');
            const progressBar = document.querySelector('progress'); 
            const questions = document.querySelectorAll(".question");
            const nextButton = document.querySelector(".nav-button button");
            const quizSkip = document.querySelector('section a'); 
            const popupBackground = document.querySelector('.popup-background');
            const continueQuizButton = document.querySelector('.popup-buttons button:first-of-type');
            const skipPlantsButton = document.querySelector('.popup-buttons button:last-of-type');

            // Start quiz
            let currentQuestionIndex = 0;
            let answers = {};

            beginButton.addEventListener('click', function () {
                begin.style.display = 'none';
                navButton.style.display = 'block';
                questionSelection.style.display = 'flex';
                progressBar.style.display = 'block';
                quizSkip.style.display = 'block';
                
                showQuestion(currentQuestionIndex);
            });


            // Pop-up skip quiz
            quizSkip.addEventListener('click', function (event){
                event.preventDefault();  

                popupBackground.style.display = 'flex';

                // Disable scrolling
                document.body.style.overflow = 'hidden'; 
                document.documentElement.style.overflow = 'hidden';  
            });

            continueQuizButton.addEventListener('click', function (){
                popupBackground.style.display = 'none'; 

                document.body.style.overflow = 'auto';  
                document.documentElement.style.overflow = 'auto';  
            });

            skipPlantsButton.addEventListener('click', function (){
                window.location.href = '/results';
            });


            // Progress bar
            function updateProgress() {
                let progressValue = ((currentQuestionIndex + 1) / questions.length) * 100;
                progressBar.value = progressValue;
            }

            function saveAnswer(questionNumber, value) {
                answers[questionNumber] = value;  
                console.log(`Vraag ${questionNumber}: ${value}`);
            }

            function showQuestion(index) {
                questions.forEach((question) => question.classList.remove("active"));
                questions[index].classList.add("active");

                updateProgress();

                nextButton.style.display ="none";

                const inputs = questions[index].querySelectorAll("input");
                inputs.forEach(input => {
                    input.addEventListener("change", function () {
                        nextButton.style.display = "block"; 
                    });
                });

                // Last 'next button'
                if (index === questions.length - 1) {
                    nextButton.textContent = "Finish";
                    nextButton.onclick = function () {
                        window.location.href = "/results"; // BACKEND: refer to userID
                    };
                } else {
                    nextButton.onclick = nextQuestion;
                }
            }


            // Next question buttons
            function nextQuestion(){
                const currentQuestion = questions[currentQuestionIndex];
                const inputs = currentQuestion.querySelectorAll("input, select");

                let answered = Array.from(inputs).some(input => {
                    if (input.type === "radio" || input.type === "checkbox") return input.checked; 
                    return input.value.trim() !== "";
                });

                if (answered) {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        showQuestion(currentQuestionIndex);
                    } else {
                        window.location.href = "/results"; // BACKEND: refereren naar gebruikersID
                    }
                }
            }

            nextButton.addEventListener("click", nextQuestion);

            showQuestion(currentQuestionIndex);
        </script>
    </body>
</html>